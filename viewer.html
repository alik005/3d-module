<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPI 3D Studio â€” Interactive Model Viewer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #06090f;
            --bg-panel: rgba(10, 15, 25, 0.92);
            --bg-panel-solid: #0c1219;
            --bg-hover: rgba(255, 255, 255, 0.04);
            --bg-active: rgba(0, 180, 255, 0.1);
            --border: rgba(255, 255, 255, 0.05);
            --border-glow: rgba(0, 180, 255, 0.25);
            --accent: #00b4ff;
            --accent-dim: #003d5c;
            --accent-bright: #5ed4ff;
            --accent2: #c084fc;
            --text: #e8ecf1;
            --text-dim: #4e5a6e;
            --text-label: #8892a4;
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --transition: 0.28s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --glow: 0 0 30px rgba(0, 180, 255, 0.08);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%; height: 100%;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: var(--bg-deep);
            color: var(--text);
        }

        #renderCanvas { width: 100%; height: 100%; display: block; outline: none; }

        #ui {
            position: absolute; inset: 0;
            pointer-events: none;
            display: flex; flex-direction: column;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TOP BAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #topBar {
            pointer-events: auto;
            height: 54px;
            background: linear-gradient(180deg, rgba(10,15,25,0.96) 0%, rgba(10,15,25,0.88) 100%);
            backdrop-filter: blur(24px) saturate(1.5);
            -webkit-backdrop-filter: blur(24px) saturate(1.5);
            border-bottom: 1px solid var(--border);
            display: flex; align-items: center;
            padding: 0 18px;
            gap: 12px;
            z-index: 100;
            box-shadow: 0 2px 20px rgba(0,0,0,0.3);
        }

        .top-logo-img {
            height: 34px;
            width: auto;
            object-fit: contain;
            filter: brightness(1.1);
            transition: var(--transition);
        }
        .top-logo-img:hover { filter: brightness(1.3); }

        .top-logo {
            display: flex; align-items: center; gap: 12px;
            text-decoration: none; color: var(--text);
            padding-right: 4px;
        }
        .top-badge {
            display: flex; align-items: center; gap: 6px;
            padding: 4px 12px 4px 6px;
            background: linear-gradient(135deg, rgba(0,180,255,0.12), rgba(192,132,252,0.08));
            border: 1px solid rgba(0,180,255,0.15);
            border-radius: 8px;
        }
        .top-badge-dot {
            width: 8px; height: 8px;
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(0,180,255,0.4);
            animation: badgePulse 3s ease-in-out infinite;
        }
        @keyframes badgePulse {
            0%, 100% { box-shadow: 0 0 8px rgba(0,180,255,0.3); }
            50% { box-shadow: 0 0 16px rgba(0,180,255,0.6); }
        }
        .top-badge-text {
            font-size: 13px; font-weight: 700;
            letter-spacing: -0.2px;
            background: linear-gradient(135deg, var(--accent-bright), var(--accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .top-divider { width: 1px; height: 26px; background: var(--border); flex-shrink: 0; }

        .top-actions { display: flex; gap: 4px; margin-left: auto; }

        .top-btn {
            display: flex; align-items: center; gap: 6px;
            padding: 7px 14px; height: 34px;
            background: transparent;
            color: var(--text-label);
            border: 1px solid transparent;
            border-radius: 8px;
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 12.5px; font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
        }
        .top-btn:hover { background: var(--bg-hover); color: var(--text); border-color: var(--border); }
        .top-btn.active { background: var(--bg-active); color: var(--accent); border-color: var(--border-glow); }
        .top-btn svg { width: 15px; height: 15px; flex-shrink: 0; }

        .top-btn-accent {
            background: linear-gradient(135deg, var(--accent), #0090cc);
            color: #fff; border-color: transparent; font-weight: 700;
            box-shadow: 0 0 16px rgba(0,180,255,0.15), inset 0 1px 0 rgba(255,255,255,0.1);
        }
        .top-btn-accent:hover {
            background: linear-gradient(135deg, var(--accent-bright), var(--accent));
            color: #fff; box-shadow: 0 0 28px rgba(0,180,255,0.3), inset 0 1px 0 rgba(255,255,255,0.15);
            border-color: transparent; transform: translateY(-1px);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN AREA â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #mainArea { flex: 1; display: flex; position: relative; overflow: hidden; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PANELS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #leftPanel {
            pointer-events: auto; width: 268px;
            background: var(--bg-panel);
            backdrop-filter: blur(24px) saturate(1.4);
            border-right: 1px solid var(--border);
            display: flex; flex-direction: column;
            transition: margin-left var(--transition), opacity var(--transition);
            z-index: 50;
        }
        #leftPanel.collapsed { margin-left: -268px; opacity: 0; pointer-events: none; }

        #rightPanel {
            pointer-events: auto; width: 280px;
            background: var(--bg-panel);
            backdrop-filter: blur(24px) saturate(1.4);
            border-left: 1px solid var(--border);
            display: flex; flex-direction: column;
            transition: margin-right var(--transition), opacity var(--transition);
            z-index: 50;
        }
        #rightPanel.collapsed { margin-right: -280px; opacity: 0; pointer-events: none; }

        .panel-header {
            display: flex; align-items: center; gap: 8px;
            padding: 13px 16px;
            border-bottom: 1px solid var(--border);
            font-size: 10.5px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1.5px;
            color: var(--text-dim);
        }
        .panel-header svg { width: 13px; height: 13px; opacity: 0.4; }
        .panel-header-accent { color: var(--accent); opacity: 0.6; }

        .panel-body { flex: 1; overflow-y: auto; padding: 6px; }
        .panel-body::-webkit-scrollbar { width: 3px; }
        .panel-body::-webkit-scrollbar-track { background: transparent; }
        .panel-body::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius: 3px; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PROP SECTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .prop-section { padding: 14px 14px; border-bottom: 1px solid var(--border); }
        .prop-section-title {
            font-size: 10px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1.2px;
            color: var(--text-dim); margin-bottom: 10px;
            display: flex; align-items: center; gap: 6px;
        }
        .prop-section-title svg { width: 12px; height: 12px; opacity: 0.4; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CONTROLS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .ctrl-select {
            width: 100%; padding: 8px 32px 8px 11px;
            background: rgba(255,255,255,0.03); color: var(--text);
            border: 1px solid var(--border); border-radius: 7px;
            font-family: 'Plus Jakarta Sans', sans-serif; font-size: 12.5px;
            cursor: pointer; transition: var(--transition);
            appearance: none; -webkit-appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%234e5a6e' stroke-width='2.5'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 10px center;
        }
        .ctrl-select:hover { border-color: rgba(255,255,255,0.1); }
        .ctrl-select:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(0,180,255,0.1); }
        .ctrl-select option { background: var(--bg-panel-solid); color: var(--text); }

        .ctrl-btn {
            width: 100%; padding: 8px 12px;
            background: rgba(255,255,255,0.03); color: var(--text-label);
            border: 1px solid var(--border); border-radius: 7px;
            font-family: 'Plus Jakarta Sans', sans-serif;
            font-size: 12px; font-weight: 600;
            cursor: pointer; transition: var(--transition);
            display: flex; align-items: center; justify-content: center; gap: 6px;
            margin-top: 6px;
        }
        .ctrl-btn:hover { background: var(--bg-hover); border-color: rgba(255,255,255,0.1); color: var(--text); }
        .ctrl-btn svg { width: 13px; height: 13px; }

        .ctrl-btn-primary {
            background: linear-gradient(135deg, rgba(0,180,255,0.15), rgba(0,180,255,0.08));
            color: var(--accent-bright); border-color: rgba(0,180,255,0.2); font-weight: 700;
        }
        .ctrl-btn-primary:hover {
            background: linear-gradient(135deg, rgba(0,180,255,0.25), rgba(0,180,255,0.12));
            border-color: rgba(0,180,255,0.4); box-shadow: 0 0 16px rgba(0,180,255,0.1);
            color: #fff;
        }
        .ctrl-btn-danger { color: var(--danger); border-color: rgba(239,68,68,0.15); }
        .ctrl-btn-danger:hover { background: rgba(239,68,68,0.08); border-color: rgba(239,68,68,0.3); }
        .ctrl-btn-success { color: var(--success); border-color: rgba(34,197,94,0.15); }
        .ctrl-btn-success:hover { background: rgba(34,197,94,0.08); border-color: rgba(34,197,94,0.3); }
        .btn-row { display: flex; gap: 5px; margin-top: 6px; }
        .btn-row .ctrl-btn { flex: 1; }

        .selected-part-name {
            padding: 8px 12px;
            background: linear-gradient(135deg, rgba(0,180,255,0.06), rgba(192,132,252,0.04));
            border: 1px solid rgba(0,180,255,0.12);
            border-radius: 7px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11.5px; color: var(--accent-bright);
            word-break: break-all; margin-bottom: 8px;
        }
        .no-selection { color: var(--text-dim); font-style: italic; font-size: 12px; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TREE VIEW â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .tree-item { margin: 1px 0; }
        .tree-row {
            display: flex; align-items: center;
            padding: 4px 8px; border-radius: 6px;
            cursor: pointer; transition: background 0.15s; gap: 5px;
        }
        .tree-row:hover { background: var(--bg-hover); }
        .tree-row.selected {
            background: linear-gradient(90deg, rgba(0,180,255,0.1), rgba(0,180,255,0.04));
            box-shadow: inset 3px 0 0 var(--accent);
        }
        .tree-toggle {
            width: 16px; height: 16px;
            display: flex; align-items: center; justify-content: center;
            color: var(--text-dim); font-size: 9px; flex-shrink: 0;
            border-radius: 3px; transition: var(--transition);
        }
        .tree-toggle:hover { background: rgba(255,255,255,0.06); }
        .tree-toggle.empty { pointer-events: none; }
        .tree-icon {
            width: 18px; height: 18px;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0; font-size: 10px; border-radius: 4px; font-weight: 700;
        }
        .tree-icon.group { background: rgba(192,132,252,0.12); color: var(--accent2); }
        .tree-icon.mesh { background: rgba(0,180,255,0.1); color: var(--accent); }
        .tree-icon.empty-node { background: rgba(245,158,11,0.1); color: var(--warning); }
        .tree-name {
            font-size: 11.5px; color: var(--text-label);
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1;
        }
        .tree-row.selected .tree-name { color: var(--accent-bright); font-weight: 600; }
        .tree-row:hover .tree-name { color: var(--text); }
        .tree-children { margin-left: 12px; padding-left: 8px; border-left: 1px solid rgba(255,255,255,0.03); display: none; }
        .tree-children.expanded { display: block; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DROP ZONE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #dropZone {
            position: absolute; inset: 0; display: none;
            align-items: center; justify-content: center;
            background: rgba(6,9,15,0.94); backdrop-filter: blur(12px);
            z-index: 9999; pointer-events: none;
        }
        #dropZone.active { display: flex; pointer-events: auto; }
        .drop-inner {
            text-align: center; padding: 60px 80px;
            border: 2px dashed rgba(0,180,255,0.4); border-radius: 20px;
            animation: dropPulse 2.5s ease-in-out infinite;
            background: radial-gradient(ellipse at center, rgba(0,180,255,0.04) 0%, transparent 70%);
        }
        .drop-icon { font-size: 52px; margin-bottom: 16px; filter: saturate(0.6); }
        .drop-title { font-size: 20px; font-weight: 700; color: var(--accent-bright); margin-bottom: 6px; }
        .drop-subtitle { font-size: 12px; color: var(--text-dim); letter-spacing: 0.3px; }
        @keyframes dropPulse {
            0%, 100% { border-color: rgba(0,180,255,0.3); box-shadow: 0 0 40px rgba(0,180,255,0.05); }
            50% { border-color: rgba(0,180,255,0.6); box-shadow: 0 0 60px rgba(0,180,255,0.1); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FOOTER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #footer {
            pointer-events: auto; height: 30px;
            background: linear-gradient(180deg, rgba(10,15,25,0.88) 0%, rgba(10,15,25,0.96) 100%);
            border-top: 1px solid var(--border);
            display: flex; align-items: center;
            padding: 0 16px; font-size: 10.5px; color: var(--text-dim);
            z-index: 100; gap: 14px;
        }
        #footer .footer-right { margin-left: auto; display: flex; gap: 16px; align-items: center; }
        .status-dot {
            width: 6px; height: 6px; border-radius: 50%;
            background: var(--success); display: inline-block; margin-right: 5px;
            box-shadow: 0 0 8px rgba(34,197,94,0.5);
            animation: statusPulse 2s ease-in-out infinite;
        }
        @keyframes statusPulse {
            0%, 100% { opacity: 1; } 50% { opacity: 0.5; }
        }
        .footer-logo { height: 16px; width: auto; opacity: 0.4; filter: grayscale(0.5); transition: var(--transition); }
        .footer-logo:hover { opacity: 0.7; filter: grayscale(0); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• LOADING â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        #loadingOverlay { position: absolute; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(6,9,15,0.9); z-index: 9998; }
        #loadingOverlay.active { display: flex; }
        .loader-ring {
            width: 40px; height: 40px;
            border: 2.5px solid rgba(255,255,255,0.06);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 0.7s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CANVAS GRID â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .canvas-watermark {
            position: absolute;
            bottom: 46px; right: 16px;
            pointer-events: none; z-index: 10;
            opacity: 0.07;
        }
        .canvas-watermark img { height: 50px; filter: grayscale(1) brightness(3); }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HELP HINT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .help-hint {
            position: absolute;
            bottom: 50px; left: 50%;
            transform: translateX(-50%);
            pointer-events: none; z-index: 10;
            background: rgba(10,15,25,0.8);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px 20px;
            display: flex; align-items: center; gap: 14px;
            font-size: 11px; color: var(--text-dim);
            opacity: 1;
            transition: opacity 0.8s ease;
        }
        .help-hint.hidden { opacity: 0; }
        .help-key {
            display: inline-flex; align-items: center; justify-content: center;
            padding: 2px 7px; min-width: 22px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px; font-weight: 500;
            color: var(--text-label);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RESPONSIVE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        @media (max-width: 900px) {
            #leftPanel { width: 220px; }
            #leftPanel.collapsed { margin-left: -220px; }
            #rightPanel { width: 250px; }
            #rightPanel.collapsed { margin-right: -250px; }
            .help-hint { display: none; }
        }

        .empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; text-align: center; }
        .empty-state-icon { font-size: 32px; margin-bottom: 12px; opacity: 0.2; }
        .empty-state-text { font-size: 12px; color: var(--text-dim); line-height: 1.6; }
        .empty-state-text strong { color: var(--accent); font-weight: 600; }
    </style>
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
</head>
<body>
    <canvas id="renderCanvas"></canvas>

    <!-- Canvas Watermark -->
    <div class="canvas-watermark">
        <img src="data:image/jpeg;base64,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" alt="DPI">
    </div>

    <!-- Help Hint -->
    <div class="help-hint" id="helpHint">
        <span><span class="help-key">LMB</span> Rotate</span>
        <span><span class="help-key">RMB</span> Pan</span>
        <span><span class="help-key">Scroll</span> Zoom</span>
        <span><span class="help-key">Click</span> Select Part</span>
    </div>

    <div id="ui">
        <!-- Top Bar -->
        <div id="topBar">
            <a class="top-logo" href="#">
                <img class="top-logo-img" src="data:image/jpeg;base64,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" alt="DPI Logo">
            </a>
            <div class="top-divider"></div>

            <div class="top-badge">
                <div class="top-badge-dot"></div>
                <span class="top-badge-text">3D Studio</span>
            </div>

            <div class="top-divider"></div>

            <button class="top-btn active" id="toggleExplorer">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
                Explorer
            </button>
            <button class="top-btn active" id="toggleProperties">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/><line x1="1" y1="14" x2="7" y2="14"/><line x1="9" y1="8" x2="15" y2="8"/><line x1="17" y1="16" x2="23" y2="16"/></svg>
                Properties
            </button>

            <div class="top-actions">
                <button class="top-btn" id="resetBtn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M1 4v6h6"/><path d="M3.51 15a9 9 0 105.64-11.36L1 10"/></svg>
                    Reset
                </button>
                <label class="top-btn top-btn-accent" id="importLabel">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                    Import Model
                    <input type="file" id="fileInput" accept=".glb,.gltf,.obj,.fbx,.stl" style="display:none">
                </label>
            </div>
        </div>

        <!-- Main Area -->
        <div id="mainArea">
            <div id="leftPanel">
                <div class="panel-header">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
                    Scene Explorer
                </div>
                <div class="panel-body" id="modelTree">
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“¦</div>
                        <div class="empty-state-text">No model loaded.<br>Drag & drop a 3D file<br>or click <strong>Import Model</strong></div>
                    </div>
                </div>
            </div>

            <div id="rightPanel">
                <div class="panel-header">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/></svg>
                    Properties
                </div>
                <div style="overflow-y: auto; flex:1;">
                    <div class="prop-section">
                        <div class="prop-section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/></svg>
                            Environment
                        </div>
                        <select class="ctrl-select" id="hdrSelector">
                            <option value="">Select HDRI Lighting</option>
                            <option value="https://playground.babylonjs.com/textures/environment.env">Default</option>
                            <option value="https://playground.babylonjs.com/textures/studio.env">Studio</option>
                            <option value="https://playground.babylonjs.com/textures/skybox.env">Skybox</option>
                        </select>
                    </div>
                    <div class="prop-section">
                        <div class="prop-section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>
                            Animations
                        </div>
                        <select class="ctrl-select" id="animationDropdown">
                            <option value="">Select Animation</option>
                        </select>
                        <div class="btn-row">
                            <button class="ctrl-btn ctrl-btn-success" id="playSelectedAnimation">
                                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="6 3 20 12 6 21"/></svg>
                                Play
                            </button>
                            <button class="ctrl-btn ctrl-btn-danger" id="stopAnimation">
                                <svg viewBox="0 0 24 24" fill="currentColor" stroke="none"><rect x="6" y="5" width="4" height="14" rx="1"/><rect x="14" y="5" width="4" height="14" rx="1"/></svg>
                                Stop
                            </button>
                        </div>
                    </div>
                    <div class="prop-section">
                        <div class="prop-section-title">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="M13 13l6 6"/></svg>
                            Selection
                        </div>
                        <div id="selectedPartDisplay"><div class="no-selection">Click an object to select it</div></div>
                        <p id="selectedPartText" style="display:none;">None</p>
                        <button class="ctrl-btn" id="isolateButton" style="display:none;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/><line x1="11" y1="8" x2="11" y2="14"/><line x1="8" y1="11" x2="14" y2="11"/></svg>
                            Isolate Selection
                        </button>
                        <button class="ctrl-btn ctrl-btn-primary" id="showAllButton" style="display:none;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>
                            Show All
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div id="footer">
            <span><span class="status-dot"></span>Ready</span>
            <div class="footer-right">
                <span id="meshCount">Meshes: 0</span>
                <span style="opacity:0.3">|</span>
                <span>Â© 2024 Graphic Design Dept, Daffodil Polytechnic Institute</span>
                <img class="footer-logo" src="data:image/jpeg;base64,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" alt="DPI">
            </div>
        </div>
    </div>

    <!-- Drop Zone -->
    <div id="dropZone">
        <div class="drop-inner">
            <div class="drop-icon">ğŸ“¦</div>
            <div class="drop-title">Drop your 3D model here</div>
            <div class="drop-subtitle">Supports GLB Â· GLTF Â· OBJ Â· FBX Â· STL</div>
        </div>
    </div>

    <!-- Loading -->
    <div id="loadingOverlay">
        <div style="text-align:center;">
            <div class="loader-ring"></div>
            <div style="margin-top:14px; font-size:12px; color:var(--text-dim); letter-spacing:0.5px;">Loading modelâ€¦</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById("renderCanvas");
        const engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });

        let scene = null, currentModel = null, originalPositions = new Map();
        let selectedMesh = null, highlightLayer = null, isIsolated = false;
        let gizmoAnchor = null, positionGizmo = null, gizmoUtilLayer = null;
        let gizmoTarget = null, gizmoLastPos = null;

        const isInternal = (n) => n === "__root__" || n === "__gizmoAnchor__";

        const getDescendantMeshes = (node) => {
            let meshes = [];
            if ((node instanceof BABYLON.Mesh || node instanceof BABYLON.AbstractMesh) && !isInternal(node.name)) meshes.push(node);
            (node.getChildren ? node.getChildren() : []).forEach(c => { meshes = meshes.concat(getDescendantMeshes(c)); });
            return meshes;
        };

        const showLoading = () => document.getElementById("loadingOverlay").classList.add("active");
        const hideLoading = () => document.getElementById("loadingOverlay").classList.remove("active");
        const updateMeshCount = () => {
            const c = scene ? scene.meshes.filter(m => !isInternal(m.name) && m.getTotalVertices && m.getTotalVertices() > 0).length : 0;
            document.getElementById("meshCount").textContent = `Meshes: ${c}`;
        };

        const highlightSelection = (node) => {
            clearHighlight(); if (!node) return;
            getDescendantMeshes(node).forEach(m => {
                if (m.getTotalVertices && m.getTotalVertices() > 0) { try { highlightLayer.addMesh(m, new BABYLON.Color3(0, 0.7, 1)); } catch(e){} }
            });
        };
        const clearHighlight = () => { if (!highlightLayer) return; scene.meshes.forEach(m => { try { highlightLayer.removeMesh(m); } catch(e){} }); };

        const createScene = () => {
            const sc = new BABYLON.Scene(engine);
            sc.clearColor = new BABYLON.Color4(0.024, 0.035, 0.059, 1);
            const cam = new BABYLON.ArcRotateCamera("camera", Math.PI/2, Math.PI/4, 10, BABYLON.Vector3.Zero(), sc);
            cam.attachControl(canvas, true);
            cam.inertia = 0.92; cam.lowerRadiusLimit = 0.5; cam.upperRadiusLimit = 100;
            cam.wheelDeltaPercentage = 0.005; cam.panningInertia = 0.85;
            cam.angularSensibilityX = 1500; cam.angularSensibilityY = 1500; cam.panningSensibility = 800;
            new BABYLON.HemisphericLight("light", new BABYLON.Vector3(1,1,0), sc).intensity = 0.7;
            sc.environmentTexture = BABYLON.CubeTexture.CreateFromPrefilteredData("https://playground.babylonjs.com/textures/environment.env", sc);
            highlightLayer = new BABYLON.HighlightLayer("hl", sc);
            highlightLayer.outerGlow = true; highlightLayer.innerGlow = true;
            highlightLayer.blurHorizontalSize = 0.6; highlightLayer.blurVerticalSize = 0.6;
            return sc;
        };

        const storeOriginalPositions = (sc) => {
            originalPositions.clear();
            const store = (n) => { if (isInternal(n.name)) return; originalPositions.set(n.uniqueId, { position: n.position.clone(), rotation: n.rotation.clone(), rotationQuaternion: n.rotationQuaternion ? n.rotationQuaternion.clone() : null, scaling: n.scaling.clone(), parent: n.parent }); };
            sc.meshes.forEach(store); sc.transformNodes.forEach(store);
        };

        const resetPositions = () => {
            detachGizmo(); clearHighlight();
            const all = [...scene.meshes, ...scene.transformNodes];
            all.forEach(n => { if (originalPositions.has(n.uniqueId)) n.setParent(originalPositions.get(n.uniqueId).parent); });
            all.forEach(n => { const o = originalPositions.get(n.uniqueId); if (!o) return; n.position = o.position.clone(); n.rotation = o.rotation.clone(); n.rotationQuaternion = o.rotationQuaternion ? o.rotationQuaternion.clone() : null; n.scaling = o.scaling.clone(); });
            scene.meshes.forEach(m => { if (m.name !== "__root__") { m.setEnabled(true); m.visibility = 1.0; } });
            scene.transformNodes.forEach(tn => tn.setEnabled(true));
            selectedMesh = null; isIsolated = false; clearSelection();
            document.getElementById("isolateButton").style.display = "none";
            document.getElementById("showAllButton").style.display = "none";
            document.getElementById("selectedPartText").textContent = "None";
            document.getElementById("selectedPartDisplay").innerHTML = '<div class="no-selection">Click an object to select it</div>';
        };

        const loadModel = (file, sc) => {
            if (currentModel) { sc.meshes.forEach(m => { if (m.name !== "__root__") m.dispose(); }); if (sc.animationGroups) sc.animationGroups.forEach(ag => ag.dispose()); }
            showLoading();
            const reader = new FileReader();
            reader.onload = (ev) => {
                const url = URL.createObjectURL(new Blob([ev.target.result]));
                const ext = file.name.split('.').pop().toLowerCase();
                BABYLON.SceneLoader.ImportMesh("", "", url, sc, (meshes, ps, sk, anims) => {
                    anims.forEach(a => a.stop());
                    const vis = meshes.filter(m => m.name !== "__root__");
                    if (vis.length > 0) { const bi = BABYLON.Mesh.MinMax(vis); const e = bi.max.subtract(bi.min); sc.activeCamera.target.copyFrom(bi.min.add(e.scale(0.5))); sc.activeCamera.radius = e.length()/2*2.5; }
                    storeOriginalPositions(sc); updateModelTree(sc); updateAnimationDropdown(sc); updateMeshCount();
                    currentModel = sc; URL.revokeObjectURL(url); hideLoading();
                    // Hide help hint after first model load
                    const hint = document.getElementById("helpHint"); if (hint) setTimeout(() => hint.classList.add("hidden"), 4000);
                }, null, (s, msg) => { alert("Failed to load model."); URL.revokeObjectURL(url); hideLoading(); }, "." + ext);
            };
            reader.onerror = () => { alert("Failed to read file."); hideLoading(); };
            reader.readAsArrayBuffer(file);
        };

        const clearSelection = () => document.querySelectorAll('.tree-row').forEach(r => r.classList.remove('selected'));

        const getWorldCenter = (node) => {
            let allMeshes = [];
            if ((node instanceof BABYLON.Mesh || node instanceof BABYLON.AbstractMesh) && node.getTotalVertices && node.getTotalVertices() > 0) allMeshes.push(node);
            if (node.getChildMeshes) node.getChildMeshes(false).forEach(c => { if (c.getTotalVertices && c.getTotalVertices() > 0) allMeshes.push(c); });
            if (allMeshes.length === 0) return node.getAbsolutePosition();
            allMeshes.forEach(m => m.computeWorldMatrix(true));
            let wMin = new BABYLON.Vector3(Infinity,Infinity,Infinity), wMax = new BABYLON.Vector3(-Infinity,-Infinity,-Infinity);
            allMeshes.forEach(m => { const bi = m.getBoundingInfo(); wMin = BABYLON.Vector3.Minimize(wMin, bi.boundingBox.minimumWorld); wMax = BABYLON.Vector3.Maximize(wMax, bi.boundingBox.maximumWorld); });
            return wMin.add(wMax).scale(0.5);
        };

        const detachGizmo = () => {
            if (positionGizmo) { positionGizmo.dispose(); positionGizmo = null; }
            if (gizmoUtilLayer) { gizmoUtilLayer.dispose(); gizmoUtilLayer = null; }
            if (gizmoAnchor) { gizmoAnchor.dispose(); gizmoAnchor = null; }
            gizmoTarget = null; gizmoLastPos = null;
        };

        const attachGizmoAtCenter = (node) => {
            const center = getWorldCenter(node);
            gizmoAnchor = new BABYLON.TransformNode("__gizmoAnchor__", scene);
            gizmoAnchor.position = center.clone();
            gizmoUtilLayer = new BABYLON.UtilityLayerRenderer(scene);
            positionGizmo = new BABYLON.PositionGizmo(gizmoUtilLayer);
            positionGizmo.attachedNode = gizmoAnchor; positionGizmo.scaleRatio = 1.2;
            gizmoTarget = node; gizmoLastPos = center.clone();
            [positionGizmo.xGizmo, positionGizmo.yGizmo, positionGizmo.zGizmo].forEach(ag => {
                ag.dragBehavior.onDragObservable.add(() => applyGizmoDelta());
                ag.dragBehavior.onDragEndObservable.add(() => { const nc = getWorldCenter(gizmoTarget); gizmoAnchor.position = nc.clone(); gizmoLastPos = nc.clone(); });
            });
        };

        const applyGizmoDelta = () => {
            if (!gizmoAnchor || !gizmoTarget || !gizmoLastPos) return;
            const cur = gizmoAnchor.position.clone(), delta = cur.subtract(gizmoLastPos); gizmoLastPos = cur.clone();
            if (delta.lengthSquared() < 1e-10) return;
            const t = gizmoTarget;
            if (t.parent) { t.parent.computeWorldMatrix(true); t.position.addInPlace(BABYLON.Vector3.TransformNormal(delta, BABYLON.Matrix.Invert(t.parent.getWorldMatrix()))); }
            else t.position.addInPlace(delta);
        };

        const createTreeNode = (node, parentEl) => {
            if (!node || isInternal(node.name)) return;
            const item = document.createElement("div"); item.className = "tree-item";
            let children = [];
            if (node.getChildMeshes) children = node.getChildMeshes(false);
            if (node.getChildTransformNodes) children = [...children, ...node.getChildTransformNodes(false)];
            children = children.filter(c => !isInternal(c.name));
            const hasKids = children.length > 0;
            const row = document.createElement("div"); row.className = "tree-row"; row.dataset.nodeUniqueId = node.uniqueId;
            const toggle = document.createElement("div"); toggle.className = "tree-toggle" + (hasKids ? "" : " empty"); toggle.innerHTML = hasKids ? "â–¶" : ""; row.appendChild(toggle);
            const icon = document.createElement("div"); const isMesh = node instanceof BABYLON.Mesh || node instanceof BABYLON.AbstractMesh;
            icon.className = "tree-icon " + (hasKids ? "group" : (isMesh ? "mesh" : "empty-node"));
            icon.textContent = hasKids ? "â—†" : (isMesh ? "â–³" : "â—‹"); row.appendChild(icon);
            const name = document.createElement("div"); name.className = "tree-name"; name.textContent = node.name; name.title = node.name; row.appendChild(name);
            item.appendChild(row);
            let childContainer = null;
            if (hasKids) { childContainer = document.createElement("div"); childContainer.className = "tree-children"; item.appendChild(childContainer); }
            toggle.addEventListener("click", (e) => { e.stopPropagation(); if (childContainer) { childContainer.classList.toggle("expanded"); toggle.innerHTML = childContainer.classList.contains("expanded") ? "â–¼" : "â–¶"; } });
            row.addEventListener("click", (e) => { e.stopPropagation(); selectNode(node); });
            parentEl.appendChild(item);
            if (hasKids && childContainer) children.forEach(c => createTreeNode(c, childContainer));
        };

        const selectNode = (node) => {
            clearSelection();
            document.querySelectorAll('.tree-row').forEach(r => { if (r.dataset.nodeUniqueId == node.uniqueId) r.classList.add('selected'); });
            detachGizmo(); selectedMesh = node; highlightSelection(node); attachGizmoAtCenter(node); displayPartName(node);
        };

        const updateModelTree = (sc) => {
            const tree = document.getElementById("modelTree"); tree.innerHTML = "";
            const all = [...sc.meshes, ...sc.transformNodes];
            const roots = all.filter(n => { if (isInternal(n.name)) return false; return !n.parent || n.parent.name === "__root__"; });
            if (roots.length > 0) roots.forEach(n => createTreeNode(n, tree));
            else { const vis = sc.meshes.filter(m => m.name !== "__root__"); if (vis.length > 0) vis.forEach(m => createTreeNode(m, tree)); else tree.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ğŸ“¦</div><div class="empty-state-text">No meshes found</div></div>'; }
        };

        const updateAnimationDropdown = (sc) => {
            const dd = document.getElementById("animationDropdown"); dd.innerHTML = "<option value=''>Select Animation</option>";
            if (sc.animationGroups && sc.animationGroups.length > 0) sc.animationGroups.forEach((ag, i) => { const o = document.createElement("option"); o.value = ag.name; o.textContent = ag.name || `Animation ${i+1}`; dd.appendChild(o); });
        };

        document.getElementById("playSelectedAnimation").addEventListener("click", () => { const n = document.getElementById("animationDropdown").value; if (n && scene.animationGroups) scene.animationGroups.forEach(ag => { ag.name === n ? ag.start(true) : ag.stop(); }); });
        document.getElementById("stopAnimation").addEventListener("click", () => { if (scene.animationGroups) scene.animationGroups.forEach(ag => ag.stop()); });
        document.getElementById("hdrSelector").addEventListener("change", (e) => { if (e.target.value) scene.environmentTexture = BABYLON.CubeTexture.CreateFromPrefilteredData(e.target.value, scene); });
        document.getElementById("resetBtn").addEventListener("click", resetPositions);
        document.getElementById("fileInput").addEventListener("change", (e) => { if (e.target.files.length > 0) loadModel(e.target.files[0], scene); e.target.value = ""; });
        document.getElementById("toggleExplorer").addEventListener("click", function() { document.getElementById("leftPanel").classList.toggle("collapsed"); this.classList.toggle("active"); });
        document.getElementById("toggleProperties").addEventListener("click", function() { document.getElementById("rightPanel").classList.toggle("collapsed"); this.classList.toggle("active"); });

        let dragCounter = 0;
        document.addEventListener("dragenter", (e) => { e.preventDefault(); dragCounter++; document.getElementById("dropZone").classList.add("active"); });
        document.addEventListener("dragleave", (e) => { e.preventDefault(); dragCounter--; if (dragCounter <= 0) { dragCounter = 0; document.getElementById("dropZone").classList.remove("active"); } });
        document.addEventListener("dragover", (e) => e.preventDefault());
        document.addEventListener("drop", (e) => { e.preventDefault(); dragCounter = 0; document.getElementById("dropZone").classList.remove("active"); if (e.dataTransfer.files.length > 0) loadModel(e.dataTransfer.files[0], scene); });

        scene = createScene();

        const urlParams = new URLSearchParams(window.location.search);
        const modelUrl = urlParams.get('model');
        if (modelUrl) {
            showLoading();
            BABYLON.SceneLoader.Append(modelUrl, "", scene, () => {
                if (scene.animationGroups) scene.animationGroups.forEach(ag => ag.stop());
                const meshes = scene.meshes.filter(m => m.name !== "__root__");
                if (meshes.length > 0) { const bi = BABYLON.Mesh.MinMax(meshes); const ext = bi.max.subtract(bi.min); scene.activeCamera.target.copyFrom(bi.min.add(ext.scale(0.5))); scene.activeCamera.radius = ext.length()/2*2.5; }
                storeOriginalPositions(scene); updateModelTree(scene); updateAnimationDropdown(scene); updateMeshCount(); currentModel = scene; hideLoading();
                const hint = document.getElementById("helpHint"); if (hint) setTimeout(() => hint.classList.add("hidden"), 4000);
            }, null, () => { alert("Failed to load model."); hideLoading(); });
        }

        engine.runRenderLoop(() => scene.render());
        window.addEventListener("resize", () => engine.resize());

        const displayPartName = (mesh) => {
            document.getElementById("selectedPartText").textContent = mesh.name;
            document.getElementById("selectedPartDisplay").innerHTML = `<div class="selected-part-name">${mesh.name}</div>`;
            document.getElementById("isolateButton").style.display = "flex";
            document.getElementById("showAllButton").style.display = "flex";
        };

        document.getElementById("isolateButton").addEventListener("click", () => {
            if (!selectedMesh) return;
            const meshes = getDescendantMeshes(selectedMesh); if (meshes.length === 0) return;
            scene.meshes.forEach(m => { if (isInternal(m.name)) return; if (meshes.includes(m)) { m.visibility = 1.0; m.setEnabled(true); } else { m.visibility = 0.0; m.setEnabled(false); } });
            isIsolated = true;
            const vis = meshes.filter(m => m.getTotalVertices && m.getTotalVertices() > 0);
            if (vis.length > 0) { vis.forEach(m => m.computeWorldMatrix(true)); const bi = BABYLON.Mesh.MinMax(vis); const ext = bi.max.subtract(bi.min); scene.activeCamera.setTarget(bi.min.add(ext.scale(0.5))); scene.activeCamera.radius = Math.max(ext.length()/2*2.5, 1); }
        });

        document.getElementById("showAllButton").addEventListener("click", () => {
            scene.meshes.forEach(m => { if (!isInternal(m.name)) { m.visibility = 1.0; m.setEnabled(true); } });
            isIsolated = false;
            const all = scene.meshes.filter(m => !isInternal(m.name) && m.getTotalVertices && m.getTotalVertices() > 0);
            if (all.length > 0) { const bi = BABYLON.Mesh.MinMax(all); const ext = bi.max.subtract(bi.min); scene.activeCamera.setTarget(bi.min.add(ext.scale(0.5))); scene.activeCamera.radius = ext.length()/2*2.5; }
        });

        scene.onPointerObservable.add((info) => {
            if (info.type === BABYLON.PointerEventTypes.POINTERPICK) {
                const picked = info.pickInfo.pickedMesh;
                if (picked && !isInternal(picked.name)) selectNode(picked);
            }
        });
    </script>
</body>
</html>
